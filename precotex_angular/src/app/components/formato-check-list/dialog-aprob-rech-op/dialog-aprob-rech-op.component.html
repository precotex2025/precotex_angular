<div class="container-dialog">
    <!-- ventana nro 4 - historial -->
    <div class="grid-container-dialog">

        <div class="title-dialog">Seleccionar OP por Aprobar o Rechazar </div>
        <div class="row">
            <div class="col-md-4">
                <input matInput class="form-control" type="text" placeholder="Buscar" [(ngModel)]="buscar" (change)="applyFilter($event)" autocomplete="off">
            </div>
            <div class="col-md-4">
                <button color="primary" class="boton_success" mat-flat-button><mat-icon>search</mat-icon></button> 
            </div>
            <div class="col-md-4">
                <button color="primary" *ngIf="mostrar" class="boton_" mat-flat-button (click)="seleccionarTodos()"><mat-icon>check_box</mat-icon>Todos</button> 
                <button color="warn" *ngIf="!mostrar" class="boton_" mat-flat-button (click)="deseleccionarTodos()"><mat-icon>check_box_outline_blank</mat-icon>Todos</button> 
            </div>
        </div>
        <div class="row caja-op" style="margin-top:20px;">
            <div class="col-md-12">

                <div class="container-cuerpo-fila2-dialog" style="margin-bottom: 20px; padding-bottom: 30px;">

                    <table mat-table #table [dataSource]="dataSource" class="mat-elevation-z8">
                        <ng-container matColumnDef="Flg_Estado">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">
                                Sel
                            </th>
                            <td mat-cell *matCellDef="let data_det">
                                <input type="checkbox" name="check" id="check" (change)="changeCheck($event, data_det)" [checked]="data_det.Flg_Estado == '1'" class="checkbox">
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="cod_ordpro">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">
                                OP
                            </th>
                            <td mat-cell *matCellDef="let data_det">
                                {{ data_det.cod_ordpro }}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="Des_Present">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">
                                Color
                            </th>
                            <td mat-cell *matCellDef="let data_det">
                                {{ data_det.Des_Present }}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="Destino">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">
                                Destino
                            </th>
                            <td mat-cell *matCellDef="let data_det">
                                {{ data_det.Des_Destino }}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="Estado">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">
                                Estado
                            </th>
                            <td mat-cell *matCellDef="let data_det">
                                <span *ngIf="data_det.Flg_Estado == '1'">Aprobado</span>
                                <!-- <span *ngIf="data_det.Flg_Estado == '0'">Rechazado</span> -->
                            </td>
                        </ng-container>
                        <tr mat-header-row *matHeaderRowDef="displayedColumns;"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                    </table>
                </div>

            </div>
        </div>

        <div class="row" style="margin-top:20px;">
            <div class="caja-cliente2">
                <button color="primary" class="boton_" (click)="aprobarOP()" mat-flat-button><mat-icon>save</mat-icon> Aprobar</button>
            </div>
            <div class="caja-cliente2">
                <button color="warn" class="boton_" (click)="rechazarOP()" mat-flat-button><mat-icon>close</mat-icon> Rechazar</button>
            </div>

        </div>
        <div class="row" style="margin-top:20px;">
            <div class="col-md-4">
            </div>
            <div class="col-md-4">
                <button color="warn" class="boton_" mat-flat-button mat-dialog-close><mat-icon>cancel</mat-icon> Cerrar</button>
            </div>
            <div class="col-md-4">
            </div>

        </div>
    </div>


</div>
<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-spin">
    <p style="color: white; text-align: center; ">Cargando... </p>
</ngx-spinner>