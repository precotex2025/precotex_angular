<div class="container-dialog">
    <!-- ventana nro 4 - historial -->
    <div class="grid-container-dialog">

        <div class="title-dialog">Registros Reproceso </div>
        <div class="row">
            <div class="col-md-12">
                <button mat-flat-button class="button" color="primary" (click)="openCrearReproceso()" [disabled]="estado == 'F'"><mat-icon>add</mat-icon> Agregar Nuevo</button>
                <button mat-flat-button class="button" color="primary" (click)="finalizarReproceso()"  [disabled]="estado == 'F'"><mat-icon>check_circle_outline</mat-icon>
                    Finalizar</button>
                <button mat-flat-button class="button" color="warn" mat-dialog-close><mat-icon>cancel</mat-icon>
                    Cerrar</button>
            </div>

        </div>
        <div class="row" style="margin-top:20px;">
            <div class="col-md-12">

                <div class="container-cuerpo-fila2-dialog" style="margin-bottom: 20px; padding-bottom: 30px;">

                    <table mat-table #table [dataSource]="dataSource" class="mat-elevation-z8">
                          <ng-container matColumnDef="Cod_OrdPro">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">
                              OP
                            </th>
                            <td mat-cell *matCellDef="let data_det">
                              {{ data_det.Cod_OrdPro }}
                            </td>
                          </ng-container>
                          <ng-container matColumnDef="Color">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">
                              Color
                            </th>
                            <td mat-cell *matCellDef="let data_det">
                              {{ data_det.Color }}
                            </td>
                          </ng-container>
                          <ng-container matColumnDef="Lote">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">
                              Lote
                            </th>
                            <td mat-cell *matCellDef="let data_det">
                              {{ data_det.Lote }}
                            </td>
                          </ng-container>
                          <ng-container matColumnDef="Tamano_Muestra">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">
                              Tamaño Muestra
                            </th>
                            <td mat-cell *matCellDef="let data_det">
                              {{ data_det.Tamano_Muestra }}
                            </td>
                          </ng-container>
              
                          <ng-container matColumnDef="Tipo_Prenda">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">
                              Tipo Prenda
                            </th>
                            <td mat-cell *matCellDef="let data_det">{{ data_det.Tipo_Prenda }}</td>
                          </ng-container>
              
                          <ng-container matColumnDef="Numero_Defectos">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">
                              N° Defectos
                            </th>
                            <td mat-cell *matCellDef="let data_det">{{ data_det.Numero_Defectos }}</td>
                          </ng-container>
                          
              
                          <ng-container matColumnDef="Flg_Aprobado">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">
                              Estado
                            </th>
                            <td mat-cell *matCellDef="let data_det">
                              <ng-container *ngIf="data_det.Flg_Aprobado == 'A'">
                                APROBADO
                              </ng-container>
              
                              <ng-container *ngIf="data_det.Flg_Aprobado == 'R'">
                                RECHAZADO
                              </ng-container>
                            </td>
                          </ng-container>
                          
                          <ng-container matColumnDef="Fecha_Registro">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">
                              Fec. Registro
                            </th>
                            <td mat-cell *matCellDef="let data_det">
                              {{ data_det.Fecha_Registro }}
                            </td>
                          </ng-container>
                          <ng-container matColumnDef="Cod_Usuario">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">
                              Cod. Usuario
                            </th>
                            <td mat-cell *matCellDef="let data_det">
                              {{ data_det.Cod_Usuario }}
                            </td>
                          </ng-container>
                        <ng-container matColumnDef="Acciones">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">
                                Acciones
                            </th>
                            <td mat-cell *matCellDef="let data_det">
                              <button mat-icon-button color="primary" (click)="editarFila(data_det)"
                                    type="button"><mat-icon>edit</mat-icon></button>
                                <button mat-icon-button color="warn"  [disabled]="estado == 'F'" (click)="eliminarCheckList(data_det)"
                                    type="button"><mat-icon>delete</mat-icon></button>
                            </td>
                        </ng-container>
                        <tr mat-header-row *matHeaderRowDef="displayedColumns;"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                    </table>
                </div>

            </div>
        </div>
    </div>


</div>
<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-spin">
    <p style="color: white; text-align: center; ">Cargando... </p>
</ngx-spinner>