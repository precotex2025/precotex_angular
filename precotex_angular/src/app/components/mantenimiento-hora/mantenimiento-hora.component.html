<div class="container">

    <div class="grid-container">

        <div class="title">Actualizaci√≥n Tiempo Lectura Ticket</div>

        <form class="container-cuerpo" [formGroup]="formulario">
            <div class="container-cuerpo-fila1">
                
                <mat-form-field class="example-full-width">
                    <mat-label>Hora Control</mat-label>
                    <input matInput placeholder="Hora Control" value="{{horaControl}}" readonly>
                  </mat-form-field>
                <mat-form-field appearance="fill" class="fila1-Area">
                    <mat-label>Area</mat-label>
                    <mat-select formControlName="Area"  (selectionChange)="obtieneHoraControl($event.value)" >
                        <mat-option *ngFor="let option of listar_Areas" [value]="option.IdArea">
                            {{option.Nombre_Area}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <button type="button" class="fila1-buscar" mat-flat-button (click)="MostrarControlBitacora();">
                    <mat-icon aria-label="person">search</mat-icon>Buscar
                </button>
                <button type="button" class="fila1-agregar" mat-flat-button (click)="agregarDialog();">
                    <mat-icon aria-label="person">add
                    </mat-icon> Agregar
                </button>


            </div>
            <div class="container-cuerpo-fila2">
                <table mat-table #table [dataSource]="dataSource" class="mat-elevation-z8">
                    <ng-container matColumnDef="IdCambio">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Id de Cambio</th>
                        <td mat-cell *matCellDef="let data_det"> {{data_det.IdCambio}} </td>
                    </ng-container>

                    <ng-container matColumnDef="IdArea">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Area</th>
                        <td mat-cell *matCellDef="let data_det"> {{data_det.IdArea}} </td>
                    </ng-container>
                    <ng-container matColumnDef="Cod_Usuario">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Usuario</th>
                        <td mat-cell *matCellDef="let data_det"> {{data_det.Cod_Usuario}} </td>
                    </ng-container>
                    <ng-container matColumnDef="Nueva_Hora">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Nueva Hora</th>
                        <td mat-cell *matCellDef="let data_det"> {{data_det.Nueva_Hora}} </td>
                    </ng-container>
                    <ng-container matColumnDef="Motivo">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Motivo</th>
                        <td mat-cell *matCellDef="let data_det"> {{data_det.Motivo}} </td>
                    </ng-container>
                    <ng-container matColumnDef="Fecha_Registro">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Fecha de Registro</th>
                        <td mat-cell *matCellDef="let data_det"> {{data_det.Fecha_Registro.date | date: 'dd/MM/YYYY
                            HH:MM'}} </td>
                    </ng-container>


                    <tr mat-header-row *matHeaderRowDef="displayedColumns_cab"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns_cab;"></tr>

                </table>

                <mat-paginator class="paginador" #paginator [pageSizeOptions]="[50, 100, 150]" showFirstLastButtons
                    aria-label="Select page of periodic elements">
                </mat-paginator>

            </div>

        </form>

    </div>

</div>

<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-spin">
    <p style="color: white; text-align: center; ">Cargando... </p>
</ngx-spinner>