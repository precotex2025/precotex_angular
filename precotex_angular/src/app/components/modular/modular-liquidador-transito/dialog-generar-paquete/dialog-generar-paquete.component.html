<div class="container">
  <!-- ventana nro 4 - historial -->
  <div class="grid-container">

    <div class="title">OP: {{this.data.datos.Cod_OrdPro}} - COLOR: {{this.data.datos.Color}}

      <span aria-label="Close" class="cerrar" mat-dialog-close aria-hidden="true">&times;</span>
    </div>

    <div class="container-cuerpo">
      <div class="row">
        <div class="col-12">
          <button mat-flat-button color="primary" (click)="generarPaquetes()" class="aceptar"><mat-icon>save</mat-icon> Aceptar</button>
          <button mat-flat-button color="primary" class="button-warning" (click)="verNuevosPaquetes()"><mat-icon>pageview</mat-icon> Ver Paquetes</button>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <mat-card>
            <mat-card-content>
              <div class="row">
                <div class="col-md-12">
                  <table mat-table class="mat-elevation-z8" #table [dataSource]="dataSource">

                    <ng-container matColumnDef="Color">
                      <th mat-header-cell *matHeaderCellDef> Color </th>
                      <td mat-cell *matCellDef="let data_det"> {{data_det.Color}}</td>
                    </ng-container>

                    <ng-container matColumnDef="Cod_Talla">
                      <th mat-header-cell *matHeaderCellDef> Talla </th>
                      <td mat-cell *matCellDef="let data_det"> {{ data_det.Cod_Talla }}</td>
                    </ng-container>
                    <ng-container matColumnDef="Ticket_Generar">
                      <th mat-header-cell *matHeaderCellDef> Ticket Generar </th>
                      <td mat-cell *matCellDef="let data_det"> {{ data_det.Ticket_Generar }}</td>
                    </ng-container>
                    <ng-container matColumnDef="Prendas_Generadas">
                      <th mat-header-cell *matHeaderCellDef> Prendas Generadas </th>
                      <td mat-cell *matCellDef="let data_det"> {{ data_det.Prendas_Generadas }}</td>
                    </ng-container>
                    <ng-container matColumnDef="Num_Paquetes">
                      <th mat-header-cell *matHeaderCellDef> Num. Paquetes </th>
                      <td mat-cell *matCellDef="let data_det">
                        <mat-form-field class="cantidad">
                          <mat-label>Num Pqte</mat-label>
                          <input matInput type="number" [(ngModel)]="data_det.Num_Paquetes"
                            (change)="changeCantidadPaq($event, data_det)" placeholder="Quitar Prendas"
                            autocomplete="off">
                        </mat-form-field>
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="PrendasPaq">
                      <th mat-header-cell *matHeaderCellDef> Prendas Paquete </th>
                      <td mat-cell *matCellDef="let data_det">
                        <mat-form-field class="cantidad">
                          <mat-label>Prds Pqte</mat-label>
                          <input matInput type="number" [(ngModel)]="data_det.PrendasPaq"
                            (change)="changeCantidad($event, data_det)" placeholder="Quitar Prendas" autocomplete="off">
                        </mat-form-field>
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="Saldo">
                      <th mat-header-cell *matHeaderCellDef> Saldo </th>
                      <td mat-cell *matCellDef="let data_det"> {{ data_det.Saldo }}</td>
                    </ng-container>
                    <ng-container matColumnDef="COD_ORDPRO">
                      <th mat-header-cell *matHeaderCellDef> OP </th>
                      <td mat-cell *matCellDef="let data_det"> {{ data_det.COD_ORDPRO }}</td>
                    </ng-container>


                    <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
                    <tr mat-row *matRowDef="let row; columns: columnsToDisplay;"
                      [ngClass]="{'highlight': selectedRowIndex == row.Cod_Talla}" (click)="highlight(row)">
                    </tr>
                    <tr class="mat-row" *matNoDataRow>
                      <td class="mat-cell" colspan="4">AÃºn no has agregado Registros</td>
                    </tr>

                  </table>

                </div>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
      </div>
    </div>
  </div>
</div>

<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-spin">
  <p style="color: white; text-align: center; ">Cargando... </p>
</ngx-spinner>