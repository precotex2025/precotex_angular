<div class="container">
    <div class="grid-container">
        <div class="title"><strong *ngIf="lc_Estado == 'P'; else titulomodificar" >Registrar </strong>Auditoria Empaque</div>
        <ng-template #titulomodificar><strong>Ver </strong></ng-template>
        <form class="container-cuerpo" [formGroup]="formulario" #formDirective="ngForm" (ngSubmit)="onGrabarAuditoria('P')">
            <div class="container-cuerpo-caja">
                <div class="table-container">
                    <table mat-table #table [dataSource]="dataSource" matSort matSortActive="Cantidad" matSortDirection="desc" class="mat-elevation-z8">
                        <ng-container matColumnDef="Cod_Motivo">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header class="mat-header-cell"> Codigo </th>
                            <td mat-cell *matCellDef="let row"> {{ row.Cod_Motivo }} </td>
                        </ng-container>
                        
                        <ng-container matColumnDef="Descripcion">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header class="mat-header-cell"> Descripci√≥n </th>
                            <td mat-cell *matCellDef="let row"> {{ row.Descripcion }} </td>
                        </ng-container>
    
                        <ng-container matColumnDef="Suma">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell"> ( + ) </th>
                            <td mat-cell *matCellDef="let row" >    
                                <button type="button" style="background:#0e740e; color:#ffffff; width: 20px;" (click)="onSumaUnidad(row)" mat-flat-button>+</button>
                            </td>
                        </ng-container>
    
                        <ng-container matColumnDef="Resta">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell"> ( - ) </th>
                            <td mat-cell *matCellDef="let row" >    
                                <button type="button" style="background:#f44336; color:#ffffff; width: 20px;" (click)="onRestaUnidad(row)" mat-flat-button>-</button>
                            </td>
                        </ng-container>
    
                        <ng-container matColumnDef="Cantidad">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header class="mat-header-cell"> Cantidad </th>
                            <td style="text-align: center;" (click)="onRegistrarCantidad(row)" mat-cell *matCellDef="let row">{{ row.Cantidad }}</td>
                        </ng-container>
    
                        <tr mat-header-row *matHeaderRowDef="displayedColumns;"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    </table>            
                </div>    
            </div>
            
            <div class="container-cuerpo-foot">
                <button type="submit" class="button-agregar" *ngIf="lc_Estado == 'P'; else btnmodificar" [mat-dialog-close]="formulario" [disabled]="!formulario.valid" mat-flat-button>
                    <mat-icon aria-label="person">save </mat-icon>Guardar
                </button>

                <ng-template #btnmodificar><button type="button" class="button-terminar" mat-dialog-close mat-dialog-close [disabled]="!formulario.valid" mat-flat-button>
                    <mat-icon aria-label="person">highlight_off</mat-icon>Cerrar
                </button></ng-template>

                <button type="button" class="button-terminar" *ngIf="lc_Estado == 'P'" mat-button [mat-dialog-close]="formulario" (click)="onTerminarAuditoria()" [disabled]="!formulario.valid" mat-flat-button>
                    <mat-icon aria-label="person">task_alt</mat-icon>Terminar
                </button>

                <button type="button" class="button-cancelar" *ngIf="lc_Estado == 'P'" mat-button [mat-dialog-close]="formulario" [disabled]="!formulario.valid" mat-flat-button>
                    <mat-icon aria-label="person">close</mat-icon>Cancelar
                </button>
            </div>
        </form>
    </div>
</div>