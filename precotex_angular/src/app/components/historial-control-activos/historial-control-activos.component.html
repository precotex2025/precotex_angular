<div class="container">
    <!-- ventana nro 4 - historial -->
    <div class="grid-container">

        <div class="title">Historial Activo Fijo</div>

        <form class="container-cuerpo" [formGroup]="formulario">
            <div class="container-cuerpo-fila1">

                <mat-form-field  class="fila1-fecha" appearance="fill">
                    <mat-label>Rango de Fecha</mat-label>
                    <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
                      <input matStartDate formControlName="start" placeholder="Fecha Inicio" >
                      <input matEndDate formControlName="end" placeholder="Fecha Final" >
                    </mat-date-range-input>
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-date-range-picker #picker></mat-date-range-picker>
                    <mat-icon  (click)="clearDate($event)" style=" position: absolute;
                    float: right;
                    top: -6px;
                    margin-left: 190px;
                    cursor: pointer;
                    color: rgba(0, 0, 0, 0.54);">clear</mat-icon>
                    <mat-error *ngIf="range.controls.start.hasError('matStartDateInvalid')">Fecha Invalida</mat-error>
                    <mat-error *ngIf="range.controls.end.hasError('matEndDateInvalid')">Fecha Invalida</mat-error>
                  </mat-form-field>

                    <mat-form-field class="fila1-buscar" appearance="fill">
                        <mat-label>Buscar</mat-label>
                        <input matInput type="text" (keyup)="applyFilter($event)">
                    </mat-form-field>
                

                <button type="button" class="fila1-excel" color="primary" mat-flat-button (click)="buscarReporteControlVehiculos()"
                    >
                    <mat-icon aria-label="person">search</mat-icon>Buscar
                </button>

                <button type="button" class="fila1-eliminar" color="primary" mat-flat-button (click)="eliminarActivos()"
                >
                <mat-icon aria-label="person">delete</mat-icon>Eliminar
                </button>



            </div>

            <!-- hora	tipo	num_guia	cod_proveedor	des_proveedor	cod_usuario -->
            <div class="container-cuerpo-fila2">


                <table mat-table   class="mat-elevation-z8" #table [dataSource]="dataSource">

                    <ng-container matColumnDef="select">
                        <th mat-header-cell *matHeaderCellDef>
                          <mat-checkbox (change)="$event ? toggleAllRows() : null"
                                        [checked]="selection.hasValue() && isAllSelected()"
                                        [indeterminate]="selection.hasValue() && !isAllSelected()"
                                        [aria-label]="checkboxLabel()">
                          </mat-checkbox>
                        </th>
                        <td mat-cell *matCellDef="let row">
                          <mat-checkbox (click)="$event.stopPropagation()"
                                        (change)="$event ? selection.toggle(row) : null"
                                        [checked]="selection.isSelected(row)"
                                        [aria-label]="checkboxLabel(row)">
                          </mat-checkbox>
                        </td>
                      </ng-container>
                    <ng-container matColumnDef="Empresa">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Empresa</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Empresa}} </td>
                    </ng-container>
                    <ng-container matColumnDef="Sede">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Sede</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Sede}} </td>
                    </ng-container>
                    <ng-container matColumnDef="Piso">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Piso</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Piso}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Area">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Area</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Area}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Centro_Costo">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Centro Costo</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Centro_Costo}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Responsable">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Responsable<th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Responsable}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Cod_Usuario">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Cod. Usuario</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Cod_Usuario}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="ClaseActivo">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Clase Activo</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.ClaseActivo}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Cod_Activo">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Cod. Activo</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Cod_Activo}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Descripcion">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Descripci√≥n</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Descripcion}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Marca">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Marca</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Marca}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Modelo">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Modelo</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Modelo}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Serie">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Serie</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Serie}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Color">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Color</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Color}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Medida">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Medida</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Medida}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Serie_Motor">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Serie Motor</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Serie_Motor}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Serie_Chasis">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Serie Chasis</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Serie_Chasis}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Placa">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Placa</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Placa}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Tipo_Combustible">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Tipo Combustible</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Tipo_Combustible}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Tipo_Caja">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Tipo Caja</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Tipo_Caja}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Cantidad_Asiento">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Cantidad Asiento</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Cantidad_Asiento}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Cantidad_Eje">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Cantidad Eje</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Cantidad_Eje}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Ano_Fabricacion">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">A√±o Fabricaci√≥n</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Ano_Fabricacion}}
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="Uso_Desuso">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Uso/Desuso</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Uso_Desuso}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Observacion">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Observaci√≥n</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.Observacion}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="fec_registro">
                        <th mat-header-cell *matHeaderCellDef class="mat-header-cell">F. Registro</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det"> {{data_det.fec_registro}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="acciones">
                        <th mat-header-cell *matHeaderCellDef>Acciones</th>
                        <td class="mat-header-cell" mat-cell *matCellDef="let data_det">
                            <a mat-icon-button style="margin-right:5px;" (click)="openModificarActivo(data_det.Cod_Activo_Fijo)">
                                <mat-icon color="success">create</mat-icon>
                            </a>

                            <a mat-icon-button (click)="EliminarRegistro(data_det.Cod_Activo_Fijo)">
                                <mat-icon color="warn">delete</mat-icon>
                            </a>
                        </td>
                    </ng-container>

                      <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
                      <tr mat-row  *matRowDef="let row; columns: columnsToDisplay;"></tr>
                </table>
                <mat-paginator [pageSizeOptions]="[10, 20, 40]"
                showFirstLastButtons
                aria-label="Select page of periodic elements">
               </mat-paginator>
            </div>

        </form>

    </div>


</div>

<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-spin">
    <p style="color: white; text-align: center; " >Cargando... </p>
</ngx-spinner>
