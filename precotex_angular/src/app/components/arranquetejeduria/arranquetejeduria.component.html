<div class="container">
    <!-- ventana nro 4 - historial -->
    <div class="grid-container">
        <!-- *ngIf="Titulo == undefined; else titulomodificar" -->
        <div class="title"><strong> COLA DE PENDIENTES ARRANQUE DE TEJEDURIA DE SERVICIO
                            </strong></div>
        <div class="body">
            <form class="container-cuerpo"  [formGroup]="formulario" #formDirective="ngForm">

                <div class="container-cuerpo-fila1">
                    <mat-form-field appearance="fill" style="margin-left:10px;" class="fila1-Filtro">
                        <mat-label>FILTRO DE BUSQUEDA</mat-label>
                        <input matInput type="text" formControlName="Filtro" (keyup)="Filtro($event)"  />
                    </mat-form-field>

                    
                        <button class="button-Actualizar" mat-flat-button type="button"   matTooltip="ACTUALIZAR"   matTooltipPosition="above" (click)="MostrarCabeceraFabricC()" >  
                        <mat-icon aria-label="person">refresh
                        </mat-icon> Actualizar
                        </button>
                    

                    
                </div>


                <div class="container-cuerpo-fila2">
                    <table mat-table #table  [dataSource]="dataSource" class="mat-elevation-z8">

                        
                        <ng-container matColumnDef="Accion">
                            <th mat-header-cell *matHeaderCellDef>Accion</th>
                            <td  mat-cell *matCellDef="let data_det">

                                <a mat-icon-button style="margin-right:5px;"  (click)="openDialogModificar(data_det)"  matTooltip="Agregar" *ngIf="data_det.ESTADO==0">
                                    <mat-icon color="warn" style="color: #0e740e;">library_add</mat-icon>
                                </a>

                                <a mat-icon-button style="margin-right:5px;"   (click)="openDialogModificar(data_det)" matTooltip="Modificar" *ngIf="data_det.ESTADO==1">
                                    <mat-icon color="warn" style="color: #faaa33;">edit</mat-icon>
                                </a>
    
                            </td>
                        </ng-container>


                        
                        <ng-container matColumnDef="Id">
                            <th mat-header-cell *matHeaderCellDef>Id</th>
                            <td mat-cell *matCellDef="let data_det"> {{data_det.ID}}
                            </td>
                        </ng-container>

    
    
                        <ng-container matColumnDef="Cod_Ordtra">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Ot</th>
                            <td  mat-cell *matCellDef="let data_det"> {{data_det.OT}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="Oc">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Oc</th>
                            <td  mat-cell *matCellDef="let data_det"> {{data_det.OC}}
                            </td>
                        </ng-container>

                        <!-- <ng-container matColumnDef="Num_Secuencia">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Num_Secuencia</th>
                            <td  mat-cell *matCellDef="let data_det"> {{data_det.SEC}}
                            </td>
                        </ng-container> -->

                        <ng-container matColumnDef="Num_Secuencia">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Talla</th>
                            <td  mat-cell *matCellDef="let data_det"> {{data_det.TALLA}}
                            </td>
                        </ng-container>                        
    
                        <ng-container matColumnDef="Fecha_Mov">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Fecha Mov.</th>
                            <td  mat-cell *matCellDef="let data_det"> {{data_det.FECHA_MOV}}
                            </td>
                        </ng-container>                        

                        <ng-container matColumnDef="Kg_Pro">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Kgs Prog.</th>
                            <td  mat-cell *matCellDef="let data_det"> {{data_det.KG_PRO}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="Und_Pro">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Uni. Prog.</th>
                            <td mat-cell *matCellDef="let data_det"> {{data_det.UNI_PRO}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="Cod_Proveedor">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Proveedor</th>
                            <td  mat-cell *matCellDef="let data_det"> {{data_det.PROVEEDOR}}
                            </td>
                        </ng-container>
    
                        <ng-container matColumnDef="Flg_Status">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Estado</th>
                            <td  mat-cell *matCellDef="let data_det"  > {{data_det.ESTADO2}} </td>
                        </ng-container>

                        <!--Nuevos Campos-->
                        <!-- <ng-container matColumnDef="Flg_Status_Arranque">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Est. Arranque</th>
                            <td mat-cell *matCellDef="let data_det">
                                <span style="background-color: green; color: white; padding: 2px;" *ngIf="data_det.FLG_APROBADO == 'S'" >Aprobado</span> 
                                <span style="background-color: red; color: white; padding: 2px;" *ngIf="data_det.FLG_APROBADO == 'R'" >Rechazado</span> 
                            </td>
                        </ng-container>  -->

                        <ng-container matColumnDef="Fecha_Inicio">
                            <th mat-header-cell *matHeaderCellDef class="mat-header-cell">Fecha Inicio.</th>
                            <td  mat-cell *matCellDef="let data_det"> {{data_det.FCH_INICIO | date:'dd/MM/yyyy HH:mm'}}
                            </td>


                        </ng-container>                             
                        
                        <tr mat-header-row *matHeaderRowDef="displayedColumns_cab"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns_cab;"></tr>
    
                    </table>
                    </div>


                    <div class="container-cuerpo-foot">

                        <mat-paginator [pageSizeOptions]="[10, 20, 30]" showFirstLastButtons
                        aria-label="Select page of periodic elements">
                        </mat-paginator>
                                     
        
                    </div>


                </form>
        </div>


    </div>

</div>
<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-spin">
    <p style="color: white; text-align: center; ">Cargando... </p>
</ngx-spinner>